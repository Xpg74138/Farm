# 养猪模拟器开发计划（原生JavaScript/TypeScript版）

## 技术栈选择
- **语言**: TypeScript
- **构建工具**: Vite
- **样式方案**: CSS Modules + 像素风格CSS
- **状态管理**: 原生JavaScript对象 + 事件系统
- **数据持久化**: localStorage
- **路由**: 原生单页应用路由（基于URL hash或history API）

## 项目结构设计
```
src/
├── assets/          # 静态资源（像素风格图片、音频等）
├── components/      # 组件类
│   ├── Button.ts
│   ├── Modal.ts
│   └── PixelArt.ts
├── controllers/     # 游戏控制器
│   ├── GameController.ts
│   ├── PigController.ts
│   └── FarmerController.ts
├── models/          # 数据模型
│   ├── Pig.ts
│   ├── Farmer.ts
│   ├── GameState.ts
│   └── Market.ts
├── pages/           # 页面类
│   ├── StartPage.ts
│   ├── CharacterSelectPage.ts
│   ├── PigGamePage.ts
│   ├── FarmerGamePage.ts
│   ├── StatsPanel.ts
│   └── SettingsPage.ts
├── services/        # 服务类
│   ├── SaveService.ts
│   └── EventService.ts
├── types/           # TypeScript类型定义
│   └── game.ts
├── utils/           # 工具函数
│   ├── gameLogic.ts
│   └── pixelUtils.ts
├── styles/          # 样式文件
│   ├── pixel.css
│   └── components.css
├── index.html       # 主HTML文件
└── main.ts          # 入口文件
```

## 核心功能模块设计

### 1. 角色系统
- **猪角色**: 生命周期（出生→成长→出栏）、属性系统（健康、饥饿、快乐、体重）、环境互动
- **养猪人角色**: 经营管理（猪舍建设、饲料管理、生猪养殖、市场交易）

### 2. 属性系统
- **猪属性**: 健康值、饥饿值、快乐值、体重、年龄
- **养猪人属性**: 金钱、声望、经验值

### 3. 经济系统
- 饲料购买与生产
- 生猪销售
- 猪舍建设与升级
- 市场价格波动

### 4. 游戏进度系统
- 时间流逝机制
- 事件系统（随机事件、季节变化）
- 成就系统

### 5. 数据持久化
- 自动保存游戏进度
- 手动保存/加载功能
- 多存档支持

## 页面设计

### 1. 开始界面
- 游戏标题（像素风格）
- 开始游戏按钮
- 加载游戏按钮
- 设置按钮

### 2. 角色选择界面
- 猪角色选项（带像素形象和描述）
- 养猪人角色选项（带像素形象和描述）
- 开始游戏按钮

### 3. 主游戏界面
- **猪角色视角**: 生活环境展示、属性面板、互动按钮（吃、睡、玩）
- **养猪人视角**: 猪舍概览、管理面板、市场信息、操作按钮

### 4. 属性面板
- 实时显示角色属性
- 属性变化趋势图
- 状态提示

### 5. 设置界面
- 音量调节
- 游戏速度设置
- 存档管理
- 返回游戏按钮

## 开发步骤

1. **项目初始化**: 使用Vite创建TypeScript项目
2. **基础架构搭建**: 建立项目结构、实现路由系统、创建基础组件
3. **UI组件开发**: 实现像素风格的通用组件
4. **页面开发**: 依次开发开始界面、角色选择界面、主游戏界面等
5. **游戏逻辑实现**: 
   - 猪角色生命周期和属性系统
   - 养猪人经营管理系统
   - 经济系统和市场机制
6. **数据持久化实现**: localStorage存储、自动保存功能
7. **测试与优化**: 功能测试、性能优化、用户体验调整
8. **最终部署**: 构建生产版本，准备部署

## 像素风格设计要点
- 使用固定像素尺寸（如16px、32px）
- 采用8-bit或16-bit色彩 palette
- 使用CSS pixel-art技巧（image-rendering: pixelated）
- 设计简洁的像素角色和场景

## 核心游戏逻辑

### 猪角色逻辑
- 时间流逝导致饥饿值下降
- 饥饿值影响健康值
- 互动行为（吃、睡、玩）影响对应属性
- 体重随年龄和饮食增长
- 达到出栏条件后结束生命周期

### 养猪人逻辑
- 管理饲料库存
- 监控猪群健康状态
- 建设和升级猪舍
- 把握市场时机出售生猪
- 平衡成本与收益

## 预期功能实现
- ✅ 完整的角色选择系统
- ✅ 两种角色的独特游戏体验
- ✅ 实时属性变化和状态管理
- ✅ 经济系统和市场机制
- ✅ 数据持久化功能
- ✅ 像素风格UI设计
- ✅ 流畅的页面切换和交互

## 风险评估
- 像素风格设计资源需要精心制作
- 游戏平衡（如经济系统、属性增长）需要反复调整
- 状态管理复杂度可能随功能增加而上升

## 后续扩展方向
- 添加更多角色特性和互动选项
- 实现 multiplayer 功能
- 添加更多随机事件和成就
- 支持移动端适配